import{h as e,r as s,E as a,g as t,G as o,o as l,c as i,w as d,a as n,b as c,d as r,e as u,F as p,J as f,S as m,f as h,i as _,p as y,K as I,j as x,t as g}from"./index.a522f241.js";import{r as L,_ as b}from"./uni-easyinput.c20b7e54.js";import{s as C,a as T,O as v}from"./SearchPopup.c233222d.js";import{T as w}from"./typeData.4b57d9fa.js";import{_ as k}from"./logo.2854b8ba.js";import{_ as j}from"./plugin-vue_export-helper.21dcd24c.js";const B={data:[{id:1,name:"金融",active:""},{id:2,name:"IT",active:""},{id:3,name:"教育",active:""}]},P=[{order:"",sortType:"按时间排序"},{order:"LIKE_COUNT",sortType:"按点赞数排序"},{order:"CREDIBILITY",sortType:"按可信度排序"}];var S=j({components:{searchItem:C,searchPopup:T},props:{inputValue:String},setup(l){e((()=>{C()}));const i=s({type:"active"}),d=a(),n=s([{id:0,comBoxText:"请输入城市",showIndexedList:!1,comBoxList:["重庆","南京","北京","上海","四川","成都","沙坪坝"],indexedList:d,changeShowIndexedList:(e,s)=>{n[s].showIndexedList=e},getResult:(e,s)=>{console.log("data",e,s)}},{id:1,comBoxText:"请输入行业",showIndexedList:!1,comBoxList:[{id:1,name:"123"}],indexedList:d,changeShowIndexedList:(e,s)=>{n[s].showIndexedList=e},getResult:e=>{console.log("data",e,index)}}]),c=s({data:[]}),r=P,u=s({order:""}),p=s({information:l.inputValue,cityIds:[],typeIds:[],professionIds:[],order:"",currentPage:1,pageSize:10}),h=t(!1),_=t(!0);const y=s({id:0}),I=s(w),x=s({id:0}),g=s(o(m)),L=s({id:0}),b=s(B);function C(){var e;c.data=[],p.information,u.order,p.cityIds.length,p.typeIds.length,e=v.data.data,c.data=[],Array.isArray(e)&&e.forEach((e=>{c.data.push(e)}))}const T=s([]);return{seledType:i,type:y,cityClassID:x,jobClassID:L,changePage:e=>{1!==e&&(i.type="",f({url:"../Emerging/Emerging"}))},selSortTypeItem:r,pushPopupRef:e=>{e&&T.push(e)},searchPopupList:n,sendInformation:p,open:e=>{console.log("PopupRefList",T),n[e].showIndexedList=!0,T[e].popup.open("bottom")},detail:c,changeList:()=>{_.value=!_.value},chooseType:function(e){y.id!==e.id?(p.typeIds.push(e.id),y.id=e.id,C(),p.typeIds=[],console.log("ccii",p.typeIds)):(y.id=0,p.typeIds=[],C())},chooseCity:function(e){x.id!==e?(p.cityIds.push(e),x.id=e,C(),p.cityIds=[]):(x.id=0,C())},chooseJob:function(e){L.id!==e?(p.profession=e,L.id=e,C()):L.id=0},showList:_,typeList:I,cityList:g,jobList:b,showCollapse:h,closeCollapse:()=>{h.value=!1,console.log(h.value)},openCollapse:()=>{h.value=!0,console.log(h.value)},tabTarget:u,changeTabTarget:(e="")=>{u.order!==e&&(u.order=e,p.order=e,C())}}}},[["render",function(e,s,a,t,o,f){const m=h,C=_,T=L(y("uni-easyinput"),b),v=I("searchItem"),w=I("searchPopup");return l(),i(C,{class:"professionPage"},{default:d((()=>[n(C,{class:"header"},{default:d((()=>[n(m,{class:"header_logo",src:k})])),_:1}),n(C,{class:"content_search"},{default:d((()=>[n(T,{modelValue:t.sendInformation.information,"onUpdate:modelValue":s[0]||(s[0]=e=>t.sendInformation.information=e),placeholder:"请输入公司名称/城市/岗位",onIconClick:s[1]||(s[1]=s=>e.search()),prefixIcon:"search"},null,8,["modelValue"])])),_:1}),n(C,{class:"content_more"},{default:d((()=>[n(C,{class:"more_list"},{default:d((()=>[n(C,{class:"label"},{default:d((()=>[c("类型")])),_:1}),n(C,{class:"label_underline"}),n(C,{class:"list_scroll"},{default:d((()=>[n(C,{class:"sel_list"},{default:d((()=>[(l(!0),r(p,null,u(t.typeList,(e=>(l(),i(C,{class:x(["sel_item",{active:t.type.id===e.id}]),key:e.id,onClick:s=>t.chooseType(e)},{default:d((()=>[c(g(e.name),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})])),_:1}),n(C,{class:"more_list"},{default:d((()=>[n(C,{class:"label"},{default:d((()=>[c("城市")])),_:1}),n(C,{class:"label_underline"}),n(C,{class:"list_scroll"},{default:d((()=>[n(C,{class:"sel_list"},{default:d((()=>[(l(!0),r(p,null,u(t.cityList,(e=>(l(),i(C,{class:x(["sel_item",{active:t.cityClassID.id===e.cityCode}]),key:e.cityCode,onClick:s=>t.chooseCity(e.cityCode)},{default:d((()=>[c(g(e.city),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})])),_:1}),n(C,{class:"more_list"},{default:d((()=>[n(C,{class:"label"},{default:d((()=>[c("行业")])),_:1}),n(C,{class:"label_underline"}),n(C,{class:"list_scroll"},{default:d((()=>[n(C,{class:"sel_list"},{default:d((()=>[(l(!0),r(p,null,u(t.jobList.data,(e=>(l(),i(C,{class:x(["sel_item",{active:t.jobClassID.id===e.id}]),key:e.id,onClick:s=>t.chooseJob(e.id)},{default:d((()=>[c(g(e.name),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})])),_:1}),n(C,{class:"content_table"},{default:d((()=>[n(C,{class:"label_underline"}),n(C,{class:"table_sel_list"},{default:d((()=>[(l(!0),r(p,null,u(t.selSortTypeItem,(e=>(l(),i(C,{key:e.order,class:x(["sel_item",{seled_item:t.tabTarget.order===e.order}]),onClick:s=>t.changeTabTarget(e.order)},{default:d((()=>[c(g(e.sortType),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),(l(!0),r(p,null,u(t.detail.data,(e=>(l(),i(C,{key:e.id,class:"searchItem"},{default:d((()=>[n(v,{detail:e,type:1},null,8,["detail"])])),_:2},1024)))),128))])),_:1})])),_:1}),(l(!0),r(p,null,u(t.searchPopupList,(e=>(l(),i(w,{key:e.id,index:e.id,ref_for:!0,ref:t.pushPopupRef,comBoxText:e.comBoxText,showIndexedList:e.showIndexedList,comBoxList:e.comBoxList,indexedList:e.indexedList,onChangeShowIndexedList:e.changeShowIndexedList,onGetResult:e.getResult},null,8,["index","comBoxText","showIndexedList","comBoxList","indexedList","onChangeShowIndexedList","onGetResult"])))),128))])),_:1})}],["__scopeId","data-v-2d5dd302"]]);export{S as default};
